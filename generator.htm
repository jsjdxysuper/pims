
<!DOCTYPE HTML>
<html>
	<head>
    	<meta name="viewport" content="width=device-width">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Highcharts Example</title>
  		<script type="text/javascript" src="./support/jquery-1.11.1.js"></script>
        <link rel="stylesheet" type="text/css" href="./support/easyui/themes/default/easyui.css">   
		<link rel="stylesheet" type="text/css" href="./support/easyui/themes/icon.css">   
 
		<script type="text/javascript" src="./support/easyui/jquery.easyui.min.js"></script>  
        
		<script type="text/javascript" src="./support/datatable/media/js/jquery.dataTables.js"></script> 
        <link rel="stylesheet" type="text/css" href="./support/datatable/media/css/jquery.dataTables.css">
        <!--日期选择框-->
		<script src="./support/datepicker/js/mobiscroll.core-2.5.2.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.core-2.5.2-zh.js" type="text/javascript"></script>
        <link href="./support/datepicker/css/mobiscroll.core-2.5.2.css" rel="stylesheet" type="text/css" />
        <link href="./support/datepicker/css/mobiscroll.animation-2.5.2.css" rel="stylesheet" type="text/css" />
        <script src="./support/datepicker/js/mobiscroll.datetime-2.5.1.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.datetime-2.5.1-zh.js" type="text/javascript"></script>
        <script src="./support/datepicker/js/mobiscroll.android-ics-2.5.2.js" type="text/javascript"></script>
        <link href="./support/datepicker/css/mobiscroll.android-ics-2.5.2.css" rel="stylesheet" type="text/css" />
        
        <!-- ace support-->
        <link href="./support/ace/assets/css/bootstrap.min.css" rel="stylesheet" />

		<style type="text/css">
		hr {
			margin-top: 20px;
			margin-bottom: 20px;
			border: 0;
			border-top: 1px solid #eee;
		}
		</style>
		<script type="text/javascript">
$(function () {
	
    var gaugeOptions = {
	
	    chart: {
	        type: 'solidgauge'
	    },
	    
	    title: null,
	    
	    pane: {
	    	center: ['50%', '85%'],
	    	size: '140%',
	        startAngle: -90,
	        endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '60%',
                outerRadius: '100%',
                shape: 'arc'
            }
	    },

	    tooltip: {
	    	enabled: false
	    },
	    credits:{
			enabled:'false',
			text:''
		}, 
	    // the value axis
	    yAxis: {
			stops: [
				[0.1, '#55BF3B'], // green
	        	[0.5, '#DDDF0D'], // yellow
	        	[0.9, '#DF5353'] // red
			],
			lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
	        title: {
                y: -40//标题的位置
	        },
            labels: {
                y: 10//表盘刻度位置

            }   
	    },
        
        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };
    
    // The speed gauge
    $('#container-speed').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
	        min: 0,
	        max: 100,
	        title: {
	            text: '机组名称#1'
	        }       
	    },

	    credits: {
	    	enabled: false
	    },
	
	    series: [{
	        name: 'Speed',
	        data: [50],
	        dataLabels: {
	        	format: '<div style="text-align:center"><span style="font-size:14px;color:' + 
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span>' + 
                   	'<span style="font-size:10px;color:black">%</span></div>'
	        },
	        tooltip: {
	            valueSuffix: ' km/h'
	        }
	    }]
	
	}));
    
    // The RPM gauge
    $('#container-rpm').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
        	min: 0,
        	max: 100,
	        title: {
	            text: '机组名称#2'
	        },    
	    },
	
	    series: [{
	        name: 'RPM',
	        data: [90],
	        dataLabels: {
	        	format: '<div style="text-align:center"><span style="font-size:14px;color:' + 
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span>' + 
                   	'<span style="font-size:10px;color:black">%</span></div>'
	        },
	        tooltip: {
	            valueSuffix: ' revolutions/min'
	        }      
	    }]
	
	}));   
	
});


$(function () {
        $('#container').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: '60万机组对标(运行小时/电量)'
            },
            subtitle: {
                text: ''
            },
            xAxis: {
                categories: ['白班', '前夜', '后夜'],
                title: {
                    text: null			
                },
				labels: {
                    overflow: 'justify'
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: '电量/运行小时',
                    align: 'high'
                },
                labels: {
                    overflow: 'justify'
                }
            },
            tooltip: {
                valueSuffix: ' millions'
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -10,
                y: 80,
                floating: true,
                borderWidth: 1,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor || '#FFFFFF'),
                shadow: true
            },
            credits: {
                enabled: false
            },
            series: [{
                name: '康平',
                data: [107, 31, 635]
            }, {
                name: '庄河',
                data: [133, 156, 947]
            }, {
                name: '营口',
                data: [973, 514, 505]
            }, {
                name: '铁岭',
                data: [373, 964, 205]
            }, {
                name: '清河',
                data: [273, 414, 405]
            }, {
                name: '燕山湖',
                data: [373, 814, 805]
            }]
        });
    });
	//日期选择框的控制
	$(function () {
		var currYear = (new Date()).getFullYear();	
		var opt={};
		opt.date = {preset : 'date'};
		opt.datetime = {preset : 'datetime'};
		opt.time = {preset : 'time'};
		opt.default = {
			theme: 'android-ics light', //皮肤样式
			display: 'modal', //显示方式 
			mode: 'mixed', //日期选择模式
			lang:'zh',
			startYear:currYear - 10, //开始年份
			endYear:currYear + 10 //结束年份
		};
		$("#appDate").val('').scroller('destroy').scroller($.extend(opt['date'], opt['default']));
	});
	//修改easyui的日期框的显示格式
	$.fn.datebox.defaults.formatter = function(date){
		var y = date.getFullYear();
		var m = date.getMonth()+1;
		var d = date.getDate();
		return y+'/'+m+'/'+d;
	}

	
	$(document).ready(function() {

			
    	$('#table_id2').dataTable({
			paging:false,
			searching:false,
			info:false
		});

	});
		
		

		</script>
        <style type="text/css">

			#appDate,#form-field-select-1 {
				display:block;
				padding: 5px;
				margin: 5px 0;
				border: 1px solid #aaa;
				border-radius: 5px;		
			}

			label{
				font-size:18px;
				display:block;
				padding: 5px;
				margin: 5px 0;
			}

    	</style>
	</head>
	<body>
<script src="./support/highcharts/js/highcharts.js"></script>
<script src="./support/highcharts/js/highcharts-more.js"></script>

<script src="./support/highcharts/js/modules/solid-gauge.src.js"></script> 
	<!--时间选择器-->
<div style="">
	<div style=";margin-left:10px;">	
        <label for="test_default" style="float:left;width:100px">日&nbsp;&nbsp;&nbsp;&nbsp;期</label>
        <input type="text" name="test_default" id="appDate" style="width:100px;float:left" />
    </div>
    <div style="clear:both;margin-left:10px;">

        <label for="form-field-select-1" style="float:left;width:100px">时间跨度</label>

        <select class="form-control" id="form-field-select-1" style="width:100px;float:left">
            <option value="">实时</option>
            <option value="AL">年</option>
            <option value="AK">月</option>
            <option value="AZ">日</option>
        </select>
														
	</div>
</div>
<hr style="clear:left">
    <!--机组的统计信息(表格)-->
    <div style="margin: 0px auto 20px auto;clear:left">
        <table id="table_id2" class="display cell-border" cellspacing="0" style="height:200px"">   
        <thead>
            <tr>
                <td colspan="4" style="text-align:center">本厂机组统计信息</td>
            </tr>
        </thead>  
            <tbody>   
                <tr>   
                    <td>容量</td><td>1245</td><td>最大出力</td><td>27233</td>   
                </tr>   
                <tr>   
                    <td>平均出力</td><td>1545</td><td>最小出力</td><td>2323</td>   
                </tr>   
                <tr>   
                    <td>发电量</td><td>1915</td><td>利用小时</td><td>2323</td>   
                </tr>
            </tbody> 
            <tfoot><td colspan="4"></td></tfoot>  
        </table>  
    </div>

    <!--机组实时信息(表盘)-->
    <div style=" height: 200px; margin: 0px auto 40px auto;text-align:center;">
        <div style="text-align:center;width:50%; float: left;">
            <div id="container-speed" style=""></div>
            <div style="margin:0 auto">机组运行方式</div>
            <div style="margin:0 auto;width: 50%;float:left;">
                <div style=" ">机组容量</div>
                <div style="">发电量</div>
                <div style="">最小出力</div>
            </div>
            <div style="margin:0 auto;width: 50%;float:left;">                
                <div style="">平均出力</div>
                <div style="">最大出力</div>
                <div style="">实时出力</div>
            </div>     
        </div>
        <div style="text-align:center;width: 50%;  float: left;">
            <div id="container-rpm" style=""></div>
            <div style="margin:0 auto;text-align:center;width:100%">机组运行方式</div>
            <div style="margin:0 auto;width: 50%;float:left;">
                <div style="">机组容量</div>
                <div style="">发电量</div>
                <div style="">最小出力</div>
            </div>
            <div style="margin:0 auto;width: 50%;float:left;">                
                <div style="">平均出力</div>
                <div style="">最大出力</div>
                <div style="">实时出力</div>
            </div>   
            </div>        
        </div>
    
    </div>

<hr>


		<div id="container" style=" height: 400px;"></div>
        <script type="text/javascript">
			var resize_gauge = function()
			{
					container_speed=document.getElementById('container-speed');
					container_rpm=document.getElementById('container-rpm');
					//table_width=document.getElementById('table_id2').offsetWidth;
					table_width=window.screen.width;
					wid=table_width/2;
					container_speed.style.width='100%';
					container_rpm.style.width='100%';
					
					container_speed.style.height=(container_speed.offsetWidth/9*7)+'px';
					container_rpm.style.height=(container_rpm.offsetWidth/9*7)+'px';
			}
			
			window.onresize= resize_gauge;
			resize_gauge();
        </script>
	</body>
</html>
